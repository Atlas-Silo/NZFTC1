@page "{id:int?}"
@model EditEmployeeModel
@{
    ViewData["Title"] = "Edit Employee";
    ViewData["PageTitle"] = "Edit Employee Information";
}

@section Styles {
    <link rel="stylesheet" href="~/css/employee.css" asp-append-version="true" />
}

<div class="layout">
    <partial name="_AdminSidebar" />

    <div class="main-content">
        <partial name="_Topbar" />

        <main class="content">
            <div class="page-header">
                <h2>Edit Employee Information</h2>
                <p>Update employee details below</p>
            </div>

            <div class="success-message" id="successMessage" style="display: none;">
                Employee updated successfully!
            </div>

            <div class="form-card">
                <form method="post">

                    @* Employee information *@
                    <div class="form-section">
                        <h3 class="form-section-title">Personal Information</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label asp-for="Employee.FirstName">First Name <span class="required">*</span></label>
                                <input asp-for="Employee.FirstName" class="form-control" />
                                <span asp-validation-for="Employee.FirstName" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="Employee.LastName">Last Name <span class="required">*</span></label>
                                <input asp-for="Employee.LastName" class="form-control" />
                                <span asp-validation-for="Employee.LastName" class="text-danger"></span>
                            </div>

                            <div class="form-group">
                                <label asp-for="Employee.Email">Email <span class="required">*</span></label>
                                <input asp-for="Employee.Email" class="form-control" type="email" />
                                <span asp-validation-for="Employee.Email" class="text-danger"></span>
                            </div>

                            @* NOT IN DTO - Phone field commented out
                            <div class="form-group">
                                <label asp-for="Employee.Phone">Phone</label>
                                <input asp-for="Employee.Phone" class="form-control" />
                            </div>
                            *@

                        </div>
                    </div>

                    @* Employment Details *@
                    <div class="form-section">
                        <h3 class="form-section-title">Employment Details</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label asp-for="Employee.Role">Role</label>
                                <input asp-for="Employee.Role" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label asp-for="Employee.DateHired">Date Hired</label>
                                <input asp-for="Employee.DateHired" class="form-control" type="date" />
                            </div>

                            @* NOT IN DTO - Commented out
                            <div class="form-group">
                                <label asp-for="Employee.Department">Department</label>
                                <input asp-for="Employee.Department" class="form-control" />
                            </div>

                            <div class="form-group">
                                <label asp-for="Employee.EmploymentType">Employment Type</label>
                                <select asp-for="Employee.EmploymentType" class="form-control">
                                    <option value="">-- Select --</option>
                                    <option value="FullTime">Full-time</option>
                                    <option value="PartTime">Part-time</option>
                                    <option value="Contract">Contract</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label asp-for="Employee.Status">Status</label>
                                <select asp-for="Employee.Status" class="form-control">
                                    <option value="Active">Active</option>
                                    <option value="Inactive">Inactive</option>
                                </select>
                            </div>
                            *@
                        </div>
                    </div>

                    @* Payroll Information *@
                    <div class="form-section">
                        <h3 class="form-section-title">Payroll Information</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label asp-for="Employee.Salary">Salary</label>
                                <input asp-for="Employee.Salary" class="form-control" type="number" step="0.01" min="0" />
                            </div>

                            @* NOT IN DTO - Commented out
                            <div class="form-group">
                                <label asp-for="Employee.PayType">Pay Type</label>
                                <select asp-for="Employee.PayType" class="form-control">
                                    <option value="Salary">Salary</option>
                                    <option value="Hourly">Hourly</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label asp-for="Employee.OpeningLeaveBalance">Opening Leave Balance (days)</label>
                                <input asp-for="Employee.OpeningLeaveBalance" class="form-control" type="number" step="0.5" min="0" />
                            </div>
                            *@
                        </div>
                    </div>

                    @* NOT IN DTO - Address and Emergency Contact sections commented out
                    <div class="form-section">
                        <h3 class="form-section-title">Address</h3>
                        <div class="form-grid">
                            <div class="form-group full-width">
                                <label asp-for="Employee.Address">Street Address</label>
                                <input asp-for="Employee.Address" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label asp-for="Employee.City">City</label>
                                <input asp-for="Employee.City" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label asp-for="Employee.Postcode">Postcode</label>
                                <input asp-for="Employee.Postcode" class="form-control" />
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="form-section-title">Emergency Contact</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label asp-for="Employee.EmergencyContactName">Contact Name</label>
                                <input asp-for="Employee.EmergencyContactName" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label asp-for="Employee.EmergencyContactPhone">Contact Phone</label>
                                <input asp-for="Employee.EmergencyContactPhone" class="form-control" />
                            </div>
                        </div>
                    </div>
                    *@

                    @* Form Actions - buttons*@
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Update Employee</button>
                        <a asp-page="Delete" asp-route-id="@Model.Employee.Id" class="btn btn-danger">Delete Employee</a>
                        <a asp-page="Index" class="btn btn-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </main>
    </div>
</div>

